(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&l(g)}).observe(document,{childList:!0,subtree:!0});function i(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(u){if(u.ep)return;u.ep=!0;const d=i(u);fetch(u.href,d)}})();(function(){window.CODIGOS=window.CODIGOS||{};function n(e,t){const o=typeof e=="string"?document.getElementById(e):e;o&&o.classList.toggle("is-hidden",!t)}console.log("[CODIGOS.JS] Cargado desde",location.pathname),window.__pingMults=async()=>{const e=await fetch("data/codigos/multiplicadores.json",{cache:"no-store"});return console.log("[PING MULTS] HTTP",e.status),e.ok?e.json():null},window.MULTS={default:1,categorias:{}},document.addEventListener("DOMContentLoaded",async()=>{try{const e=window.__assetVersion?`?v=${encodeURIComponent(window.__assetVersion)}`:`?t=${Date.now()}`,t=await fetch("data/codigos/multiplicadores.json"+e,{cache:"no-store"});t.ok&&(window.MULTS=await t.json())}catch{}}),window.getMultiplicador=e=>{var t,o,c;return((o=(t=window.MULTS)==null?void 0:t.categorias)==null?void 0:o[String(e)])??((c=window.MULTS)==null?void 0:c.default)??1},window.setVisible=function(t,o){const c=typeof t=="string"?document.getElementById(t):t;c&&c.classList.toggle("is-hidden",!o)};function r(e){const t=Math.max(0,Math.floor(Number(e||0)));return t===0?0:t===1?.1:t<=4?.15:t<=6?.3:t<=9?.4:t<=11?.5:t<=14?.6:t<=16?.7:t<=19?.8:t<=21?1:t<=23?1.1:t===24?1.2:t<=27?1.3:t<=29?1.4:t<=31?1.5:t<=33?1.6:1.7}function i(e){if(e&&typeof e=="object"){const t=e.cargos??e.CARGOS??e.base??e.valor??e.value;if(t!=null)return Number(t)||0}return Number(e||0)}function l(e,t){const o=i(e);if(!o)return 0;const c=o*39,a=1+r(t),f=c*a;return Math.round(f*100)/100}function u(e,t,o){const c=l(e,o),a=Number(t||0);return!c||!a?0:Math.round(c/30*a*100)/100}window.CODIGOS.E60={id:"E60",soloTipo:"CARGO",getImporteBase({dias:e=30,antigAnios:t=0,indiceActual:o}){return u(o,e,t)},getImporteComplemento({dias:e=0,antigAnios:t=0,indiceAnterior:o}){return u(o,e,t)}};function d(e){var c,a,f,m;const t=(c=window.PUNTOS)==null?void 0:c.getA01For;if(typeof t=="function"){const p=t(116,e)||{},y=Number(p.actual);if(Number.isFinite(y)&&y>0)return y}const o=Number((m=(f=(a=window.CARGOS)==null?void 0:a.getByCategoria)==null?void 0:f.call(a,116))==null?void 0:m.A01);return Number.isFinite(o)&&o>0?o:0}function g(e,t){var m,p;const o=t==="HCNS"?12:15;if(!e||o<=0)return 0;const c=Number(((p=(m=window.CARGOS)==null?void 0:m.getIndice)==null?void 0:p.call(m,e))||0);if(!(c>0))return 0;const a=d(e);return a>0?a*c/o:0}function w(e){var a;if((a=window.PUNTOS)!=null&&a.prevYM)return window.PUNTOS.prevYM(e);const[t,o]=String(e||"").split("-").map(Number);if(!t||!o)return"";const c=new Date(t,o-1,1);return c.setMonth(c.getMonth()-1),`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}`}window.CODIGOS.HC={getImporteBase({ym:e,dias:t=30,horas:o=0,nivel:c="HCNM"}){if(!e)return 0;const a=g(e,c);if(!a)return 0;const f=a*Number(o||0)*(Number(t||0)/30);return Math.round(f*100)/100},getImporteComplemento({ym:e,ymPrev:t,dias:o=0,horas:c=0,nivel:a="HCNM"}){if(!e)return 0;const f=t||w(e);if(!f)return 0;const m=g(f,a);if(!m)return 0;const p=m*Number(c||0)*(Number(o||0)/30);return Math.round(p*100)/100}};function B(e){var c,a,f,m,p;if(!e)return 0;const t=Number(((a=(c=window.CARGOS)==null?void 0:c.getIndice)==null?void 0:a.call(c,e))||0);if(!(t>0))return 0;let o=0;if(typeof d=="function"){const y=Number(d(e));Number.isFinite(y)&&y>0&&(o=y)}if(!(o>0)){const y=Number((p=(m=(f=window.CARGOS)==null?void 0:f.getByCategoria)==null?void 0:m.call(f,116))==null?void 0:p.A01);Number.isFinite(y)&&y>0&&(o=y)}return o>0?o*t:0}function A(e){const t=B(e);return!t||Number.isNaN(t)?0:t*.025}function N(e,t){const o=Number(t||0);if(o<=0)return 0;const c=B(e);return!c||Number.isNaN(c)?0:c*.025/30*o}window.CODIGOS.E29={id:"E29",getImporteBase:({ym:e,dias:t=30})=>{const o=Number(t||0);return!e||!(o>0)?0:A(e)*(o/30)},getImporteComplemento:({ymPrev:e,diasExc:t=0})=>{const o=Number(t||0);return!e||!(o>0)?0:N(e,o)}};let h=0,b=[],C=!1;function S(e){return(Math.round(Number(e||0)*100)/100).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})}function O(e){typeof e!="string"&&(e=String(e??""));const t=e.replace(/\./g,"").replace(",",".").replace(/[^\d.-]/g,""),o=Number(t);return Number.isFinite(o)?o:0}function L(){var o;const e=document.getElementById("diasLiq");if(!e)return 0;const t=(o=e.textContent)==null?void 0:o.match(/(\d+)/);return t?Number(t[1]):0}function v(){var ee,te,ne,R,oe;const e=(ee=window.CODIGOS)==null?void 0:ee.E29;if(!e)return;const t=document.getElementById("indicePeriodo")||document.getElementById("indiceMes"),o=((t==null?void 0:t.value)||"").trim(),c=L(),a=document.getElementById("diasExc"),f=Number((((te=a==null?void 0:a.dataset)==null?void 0:te.value)??(a==null?void 0:a.textContent)??"0").toString().replace(/[^\d.-]/g,""))||0,m=typeof window.getTipoCargo=="function"&&window.getTipoCargo()||"",p=m!=="HCNM"&&m!=="HCNS",y=((ne=document.getElementById("suplente"))==null?void 0:ne.checked)===!0,E=document.getElementById("rowE29"),M=document.getElementById("e29Importe"),T=document.getElementById("rowE29_comp"),D=document.getElementById("e29CompImporte"),_=document.getElementById("complementoBox"),z=c&&c>0?Math.min(30,c):0,J=o&&z>0&&p&&y;let K=0;J&&(K=Number(e.getImporteBase({ym:o,dias:z})||0));const H=Math.round(K*100)/100;M&&(M.textContent=S(H));const x=J&&H>0;E&&n(E,x);const $=document.getElementById("totalParcial");if($){const se=O($.textContent)-h+(x?H:0);$.textContent=S(se),h=x?H:0}else h=x?H:0;const Q=o?((oe=(R=window.PUNTOS)==null?void 0:R.prevYM)==null?void 0:oe.call(R,o))||w(o):"";let W=0;x&&Q&&f>0&&(W=Number(e.getImporteComplemento({ymPrev:Q,diasExc:f})||0));const X=Math.round(W*100)/100;D&&(D.textContent=S(X));const Z=x&&X>0;T&&(T.style.display=Z?"table-row":"none"),_&&Z&&_.style.display==="none"&&(_.style.display="")}function I(){b.forEach(e=>clearTimeout(e)),b=[],v(),b.push(setTimeout(v,60)),b.push(setTimeout(v,160))}function s(){if(C)return;const e=window.calculateLiq;if(typeof e!="function"){setTimeout(s,50);return}if(e.__withE29){C=!0,I();return}const t=async function(...o){const c=await e.apply(this,o);return I(),c};t.__withE29=!0,window.calculateLiq=t,C=!0,I()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",s):s(),function(){if(window.__F_HIGHLIGHT_ATTACHED__)return;window.__F_HIGHLIGHT_ATTACHED__=!0;function t(a){var M;if(!a||(M=a.closest("table"))!=null&&M.classList.contains("meses"))return;const f=a.querySelector('[id$="Importe"], [id$="CompImporte"]')||a.querySelector("[data-importe]")||a.querySelector(".importe-value")||(a.children.length===0?a:null);if(!f)return;const m=(f.textContent||"").trim();if(!/\d/.test(m))return;const p=m.replace(/\./g,"").replace(",",".").replace(/[^\d.-]/g,"");if(p===""||p==="-"||p===".")return;const y=Number(p);if(!Number.isFinite(y))return;const E=Math.round(y*100)/100;f.textContent="$ "+E.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})}function o(a=document){a.querySelectorAll(".tabla-codigos tbody tr").forEach(m=>{var D;const p=m.querySelector("td:first-child"),y=(D=m.closest("table"))!=null&&D.classList.contains("tabla-codigos")?m.querySelector("td:nth-child(2)"):null,E=m.querySelector("td:last-child");if(!p||!E)return;const M=(p.textContent||"").trim(),T=/^F/.test(M);[p,y,E].forEach(_=>{_&&_.classList.toggle("f-highlight",T)}),t(E)})}typeof window<"u"&&(window.highlightFCodes=o),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>o()):o();function c(){const a=window.calculateLiq;if(typeof a=="function"&&!a.__withFHighlight){const f=function(...m){const p=a.apply(this,m);return Promise.resolve().then(()=>o()),p};f.__withFHighlight=!0,Object.keys(a).forEach(m=>{m in f||(f[m]=a[m])}),window.calculateLiq=f}}if(typeof window.calculateLiq=="function")c(),Promise.resolve().then(()=>o());else{let a=0;const f=setInterval(()=>{typeof window.calculateLiq=="function"?(clearInterval(f),c(),o()):++a>50&&clearInterval(f)},100)}}()})();window.getTipoCargo=function(){const n=document.getElementById("tipoSeleccion");return((n==null?void 0:n.value)||"").trim()};window.getCategoriaId=function(){const n=document.getElementById("catId"),r=Number((n==null?void 0:n.value)||0);return Number.isFinite(r)?r:0};window.getHorasSeleccionadas=function(){const n=document.getElementById("horasValor"),r=((n==null?void 0:n.value)??"").trim();if(r==="")return 0;const i=Number(r);return Number.isFinite(i)&&i>0?Math.floor(i):0};document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("tipoSeleccion"),r=document.getElementById("panelCargos"),i=document.getElementById("horasCard");function l(){const u=window.getTipoCargo();if(u==="CARGOS"?(r&&(r.style.display="block"),i&&(i.style.display="none")):u==="HCNM"||u==="HCNS"?(r&&(r.style.display="none"),i&&(i.style.display="block")):(r&&(r.style.display="none"),i&&(i.style.display="none")),["rowHCNM","rowHCNS","rowHCNM_comp","rowHCNS_comp"].forEach(d=>{const g=document.getElementById(d);g&&(g.style.display="none")}),typeof update=="function")try{update()}catch{}}n==null||n.addEventListener("change",l),l()});document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("catId"),r=document.getElementById("multBadge");function i(){if(!n||!r||typeof getMultiplicador!="function")return;const l=String(n.value||"").trim();if(!l){r.style.display="none";return}const u=getMultiplicador(l);r.textContent="x"+u,r.style.display=Number(u)!==1?"inline-block":"none"}n==null||n.addEventListener("input",i),window.addEventListener("load",i)});(function(){window.CODIGOS=window.CODIGOS||{};const n={baselineMonth:"2024-01",cargoBase:53388.38,mode:"index_ratio",maxHoras:{HCNM:18,HCNS:15}},r={};let i={...n},l=!1,u=!1;async function d(){if(l)return!0;try{const s=await fetch("data/codigos/a56.config.json",{cache:"no-store"});if(!s.ok)throw new Error("HTTP "+s.status);const e=await s.json();i={...n,...e,maxHoras:{...n.maxHoras,...(e==null?void 0:e.maxHoras)||{}}}}catch(s){i={...n},console.warn("[A56] Config por defecto aplicada:",s)}return l=!0,!0}const g=(s,e)=>`${s}-${String(e).padStart(2,"0")}`;function w(s){var c,a;const e=Number((a=(c=window.CARGOS)==null?void 0:c.getIndice)==null?void 0:a.call(c,s));if(Number.isFinite(e)&&e>0)return e;const t=window.INDICES&&(window.INDICES.indices||window.INDICES)||window.indices||{},o=Number(t==null?void 0:t[s]);if(Number.isFinite(o)&&o>0)return o;throw new Error(`[A56] Indice no encontrado para ${s}`)}function B(){try{const s=w(g(2024,3)),t=w(g(2024,4))/s-1;Math.abs(t-.08333)>.001&&console.warn(`[A56] Advertencia: Mar->Abr no es +8.333%. Valor detectado: ${(t*100).toFixed(3)}%`)}catch(s){console.warn("[A56] No se pudo validar Mar->Abr:",s.message||s)}try{const s=w(g(2024,11)),t=w(g(2024,12))/s-1;Math.abs(t-.024)>8e-4&&console.warn(`[A56] Advertencia: Nov->Dic no es +2.4%. Valor detectado: ${(t*100).toFixed(3)}%`)}catch(s){console.warn("[A56] No se pudo validar Nov->Dic:",s.message||s)}}function A(){return String((i==null?void 0:i.baselineMonth)||n.baselineMonth)}function N(){return Number((i==null?void 0:i.cargoBase)??n.cargoBase)}function h(s){const e=N();if(!(e>0))return 0;const t=w(s),o=w(A());return o>0?e*(t/o):0}const b=106275.46;function C(){return b}function S(){const s=w(g(2024,10)),e=w(g(2024,11));if(!(s>0)||!(e>0))return 0;const t=e/s+.01;return C()*t}function O(){return S()*1.024}function L(s){const e=w(g(2024,12)),t=w(s);return!(e>0)||!(t>0)?0:O()*(t/e)}function v(s,e){var c,a;const t=s==="HCNS"?((c=i.maxHoras)==null?void 0:c.HCNS)||n.maxHoras.HCNS:((a=i.maxHoras)==null?void 0:a.HCNM)||n.maxHoras.HCNM,o=Math.max(0,Math.floor(Number(e||0)));return Math.min(o,t)}function I(s,e){return Number(s||0)/30*Number(e||0)}r.ready=d,r.mensualCargo=function(s){if(!s||String((i==null?void 0:i.mode)||n.mode)!=="index_ratio")return 0;if(!u){try{B()}catch(t){console.warn("[A56] Validacion de indices:",t)}u=!0}try{const t=String(s).split("-"),o=Number(t[0]),c=Number(t[1]);if(!Number.isFinite(o)||!Number.isFinite(c))return 0;if(o===2024){if(c<=9)return h(s);if(c===10)return C();if(c===11)return S();if(c===12)return O()}return o>=2025?L(s):h(s)}catch(t){return console.warn("[A56] mensualCargo error para",s,t),0}},r.mensualHora=function(s,e,t){const o=r.mensualCargo(s),c=e==="HCNS"?15:18,a=v(e,t);return o/c*a},r.prorrateo=function(s,e){const t=I(s,e);return Math.round(t*100)/100},r.hcnm=function(s){return s/18},r.hcns=function(s){return s/15},window.CODIGOS.A56=r})();document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("licInicio"),r=document.getElementById("licDias"),i=document.getElementById("licFin"),l=d=>`${String(d.getDate()).padStart(2,"0")}/${String(d.getMonth()+1).padStart(2,"0")}/${d.getFullYear()}`;function u(){if(!n||!r||!i)return;const d=n.value?new Date(n.value):null,g=Number.parseInt(r.value,10);if(!d||!Number.isFinite(g)||g<=0){i.value="";return}const w=new Date(d);w.setDate(w.getDate()+(g-1)),i.value=l(w)}n==null||n.addEventListener("change",u),r==null||r.addEventListener("input",u),u()});const ue="data/periods/index.json";let j=null;const q=new Map;async function k(n){const r=await fetch(n,{cache:"no-store"});if(!r.ok)throw new Error(`No se pudo cargar ${n}`);return r.json()}async function Y(){if(j)return j;const n=await k(ue);if(!n||!Array.isArray(n.available)||typeof n.default!="string")throw new Error('index.json inválido: faltan "available" o "default"');return j=n,n}async function de(n){if(q.has(n))return q.get(n);const r=await k(`data/periods/${n}/indice.json`),i=r==null?void 0:r.valor_indice;if(typeof i!="number")throw new Error(`indice.json inválido para ${n}: falta "valor_indice" numérico`);return q.set(n,i),i}let P=null;async function le(){if(P)return P;try{const n=await k("data/indices.json");if(!(n!=null&&n.valores)||typeof n.valores!="object")throw new Error('data/indices.json inválido: falta "valores"');P=n.valores}catch{P=null}return P}async function fe(n){const r=await Y(),i=n||r.default;try{if(r.available.includes(i))return await de(i)}catch(u){console.warn("[indices] periods falló, intento legacy:",u.message)}const l=await le();if(l&&typeof l[i]=="number")return l[i];throw new Error(`No hay índice para ${i} (periods/ y legacy fallaron)`)}async function me(){const{available:n}=await Y();return n.slice()}async function ge(){const{default:n}=await Y();return n}window.getPeriodosDisponibles=me;window.getPeriodoDefault=ge;window.getValorIndice=fe;const F={ym:null,categoriaId:0,indiceActual:0,indicePrevio:0,diasBase:void 0,diasExc:void 0},V=new Set;function ie(n){V.add(n);try{n(F)}catch{}return()=>V.delete(n)}function ce(n){let r=!1;for(const[i,l]of Object.entries(n))l!==void 0&&F[i]!==l&&(F[i]=l,r=!0);if(r)for(const i of V)try{i(F)}catch{}}function U(n){for(const r of n){const i=document.getElementById(r);if(i)return i}return null}function re(n){if(n==null)return 0;const r=String(n),i=Number(r.replace(/[^\d.-]/g,""));return Number.isFinite(i)?i:0}function G(){var L,v,I,s,e,t;const n=document.getElementById("indicePeriodo"),r=U(["catId","cargoId"]),i=Number((r==null?void 0:r.value)||0),l=((v=(L=window.CARGOS)==null?void 0:L.getIndice)==null?void 0:v.bind(window.CARGOS))||(()=>0),u=((n==null?void 0:n.value)||"").trim(),d=((s=(I=window.PUNTOS)==null?void 0:I.prevYM)==null?void 0:s.call(I,u))||u,g=l(u)||0;let w=l(d);w||(w=g);const B=(()=>{const[o,c]=String(u||"").split("-").map(Number);if(!o||!c)return"";const a=c===12?o+1:o,f=c===12?1:c+1;return`${a}-${String(f).padStart(2,"0")}`})();l(B)||(w=g);let A=u,N=g,h=w;if(!N){const o=l(d)||0;o?(N=o,h=o,n&&n.value!==d&&(n.value=d),A=d):h=0}h==null&&(h=l(d)||0||N);const b=U(["diasBase","diasBaseLabel"]),C=U(["diasExc","diasExcedente","diasExcedentes"]),S=b?re(((e=b.dataset)==null?void 0:e.value)??b.textContent):void 0,O=C?re(((t=C.dataset)==null?void 0:t.value)??C.textContent):void 0;ce({ym:A,categoriaId:i,indiceActual:N,indicePrevio:h,diasBase:S,diasExc:O})}let we=[];function ae(){const n=Number(selectAnioSAC.value||0),r=Number(selectSemSAC.value||1),i=calcularSAC(we||[],n,r);diasSAC.textContent=String(i)}selectAnioSAC.addEventListener("change",ae);selectSemSAC.addEventListener("change",ae);const pe=Object.freeze(Object.defineProperty({__proto__:null,set:ce,state:F,subscribe:ie,syncFromDOM:G},Symbol.toStringTag,{value:"Module"}));window.Store=pe;ie(async()=>{var n;try{(n=window.PUNTOS)!=null&&n.ready&&await window.PUNTOS.ready();const r=document.getElementById("inicio")||document.getElementById("fechaInicio")||document.getElementById("start")||document.getElementById("startDate"),i=document.getElementById("fin")||document.getElementById("fechaFin")||document.getElementById("end")||document.getElementById("endDate"),l=document.getElementById("baja"),u=(r==null?void 0:r.value)||"",d=(i==null?void 0:i.value)||"",g=!!(l!=null&&l.checked);u&&d&&typeof calculateLiq=="function"&&await calculateLiq(u,d,g)}catch(r){console.debug("[Store->calculateLiq] error:",r)}});G();["indicePeriodo","catId","cargoId","diasBase","diasExc","inicio","fin","fechaInicio","fechaFin"].forEach(n=>{const r=document.getElementById(n);r&&(r.addEventListener("change",()=>G()),r.addEventListener("input",()=>G()))});
